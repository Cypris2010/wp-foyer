function foyer_display_setup_slide_group_classes(){jQuery(foyer_slides_selector).children().addClass("foyer-slide-group-1")}function foyer_display_setup(){jQuery(this).css("cursor","none"),major_refresh_timeout=setTimeout(foyer_display_reload_window,288e5),foyer_loader_intervalObject=window.setInterval(foyer_display_load_data,3e4)}function foyer_display_load_data(){var e,r;jQuery(".foyer-slide-group-1").length?jQuery(".foyer-slide-group-2").length||(r="foyer-slide-group-2",e="foyer-slide-group-1"):(r="foyer-slide-group-1",e="foyer-slide-group-2"),r.length&&jQuery.get(window.location,function(o){if($new_html=jQuery(jQuery.parseHTML(o)),$new_html.find(foyer_channel_selector).attr("class")!==jQuery(foyer_channel_selector).attr("class"))foyer_ticker_shutdown(foyer_display_replace_channel,$new_html.find(foyer_channel_selector));else{var t=$new_html.find(foyer_slides_selector).children().addClass(r);1===jQuery(foyer_slides_selector).children().length&&1===$new_html.find(foyer_slides_selector).children().length?(jQuery(foyer_slides_selector).html(t),foyer_ticker_set_slide_active_next_classes()):(jQuery(foyer_slides_selector).children().last().after(t),jQuery(foyer_slides_selector).find("."+r).first().attrChange(function(o){jQuery(foyer_slides_selector).find("."+r).first().attrChange(function(r){jQuery(foyer_slides_selector).find("."+e).remove()})}))}})}function foyer_display_replace_channel(e){jQuery(foyer_channel_selector).replaceWith(e),foyer_display_setup_slide_group_classes(),setTimeout(foyer_ticker_init,100)}function foyer_display_reload_window(){window.location.reload()}function foyer_slide_video_load_youtube_api(){!function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)}()}function onYouTubeIframeAPIReady(){jQuery(foyer_slide_video_selector).each(function(){var e=jQuery(this).find(".youtube-video-container"),r=e.attr("id"),o=e.data("foyer-video-id");r&&o&&(window.foyer_yt_players[r]=new YT.Player(r,{width:"1920",height:"1080",videoId:o,playerVars:{controls:0,loop:1,modestbranding:1,rel:0,showinfo:0},events:{onReady:foyer_slide_video_youtube_player_ready(r)}}))}),console.log(window.foyer_yt_players)}function foyer_slide_video_bind_events(){jQuery("body").on("slides:before-binding-events",foyer_slides_selector,function(e){console.log("binding"),jQuery("body").on("slides:next-slide",foyer_slides_selector,function(e){console.log("trying next");var r=jQuery(foyer_slide_video_selector).filter(".active").find(".youtube-video-container"),o=window.foyer_yt_players[r.attr("id")];if(1==r.data("foyer-video-wait-for-end")&&o){var t=r.data("foyer-video-end"),i=o.getDuration(),s=o.getCurrentTime();(i<t||!t)&&(t=i),console.log(s),s>=t-foyer_ticker_css_transition_duration||(console.log("prevented next"),e.stopImmediatePropagation(),setTimeout(function(){jQuery(foyer_slides_selector).trigger("slides:next-slide")},500))}})}),jQuery("body").on("slide:became-active",foyer_slide_video_selector,function(e){console.log("became");var r=jQuery(this).find(".youtube-video-container"),o=window.foyer_yt_players[r.attr("id")];o&&(console.log("play"),o.playVideo())}),jQuery("body").on("slide:left-active",foyer_slide_video_selector,function(e){console.log("left");var r=jQuery(this).find(".youtube-video-container"),o=window.foyer_yt_players[r.attr("id")];o&&(console.log("pause"),setTimeout(function(){o.seekTo(r.data("foyer-video-start")),o.pauseVideo()},1e3*foyer_ticker_css_transition_duration))})}function foyer_slide_video_youtube_player_ready(e){return function(r){var o=jQuery("#"+e),t=window.foyer_yt_players[e];t.mute(),t.seekTo(o.data("foyer-video-start")),jQuery("#"+e).parents(foyer_slide_video_selector).hasClass("active")||t.pauseVideo()}}function foyer_ticker_bind_events(){jQuery(foyer_slides_selector).trigger("slides:before-binding-events"),jQuery("body").on("slides:next-slide",foyer_slides_selector,function(e){var r=jQuery(foyer_slide_selector+".active"),o=jQuery(foyer_slide_selector).length,t=jQuery(foyer_slide_selector).index(r)+1;t>=o&&(t=0);var i=t+1;i>=o&&(i=0),r.trigger("slide:leaving-active"),foyer_ticker_shutdown_status?(foyer_ticker_shutdown_status=!1,setTimeout(function(){foyer_ticker_shutdown_callback(foyer_ticker_shutdown_callback_options)},1e3*foyer_ticker_css_transition_duration_safe)):(jQuery(foyer_slide_selector).eq(t).trigger("slide:becoming-active"),jQuery(foyer_slide_selector).eq(i).trigger("slide:becoming-next"),foyer_ticker_set_active_slide_timeout())}),jQuery("body").on("slide:becoming-next",foyer_slide_selector,function(e){jQuery(this).addClass("next").trigger("slide:became-next")}),jQuery("body").on("slide:becoming-active",foyer_slide_selector,function(e){jQuery(this).removeClass("next").addClass("active").trigger("slide:became-active")}),jQuery("body").on("slide:leaving-active",foyer_slide_selector,function(e){jQuery(this).removeClass("active").trigger("slide:left-active")}),jQuery(foyer_slides_selector).trigger("slides:after-binding-events")}function foyer_ticker_init(){foyer_ticker_bind_events(),foyer_ticker_set_slide_active_next_classes(),foyer_ticker_set_active_slide_timeout()}function foyer_ticker_set_slide_active_next_classes(){jQuery(foyer_slide_selector).first().trigger("slide:becoming-active"),jQuery(foyer_slide_selector).first().next().trigger("slide:becoming-next")}function foyer_ticker_set_active_slide_timeout(){var e=parseFloat(jQuery(foyer_slide_selector+".active").data("foyer-slide-duration"));!e>0&&(e=5),setTimeout(foyer_ticker_next_slide,1e3*e)}function foyer_ticker_next_slide(){jQuery(foyer_slides_selector).trigger("slides:next-slide")}function foyer_ticker_shutdown(e,r){foyer_ticker_shutdown_status=!0,foyer_ticker_shutdown_callback=e,foyer_ticker_shutdown_callback_options=r}var foyer_display_selector=".foyer-display",foyer_channel_selector=".foyer-channel",foyer_slides_selector=".foyer-slides",foyer_slide_selector=".foyer-slide";jQuery(document).ready(function(){jQuery(foyer_display_selector).length&&(foyer_display_setup(),foyer_display_setup_slide_group_classes())}),jQuery(function(){!function(e){var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;e.fn.attrChange=function(e){if(r){var o={subtree:!1,attributes:!0},t=new r(function(r){r.forEach(function(r){t.disconnect(),e.call(r.target,r.attributeName)})});return this.each(function(){t.observe(this,o)})}}}(jQuery)});var foyer_slide_video_selector=".foyer-slide-video",foyer_yt_players={};jQuery(document).ready(function(){jQuery(foyer_slides_selector).length&&(foyer_slide_video_load_youtube_api(),foyer_slide_video_bind_events())});var foyer_ticker_shutdown_status=!1,foyer_ticker_shutdown_callback,foyer_ticker_shutdown_callback_options,foyer_ticker_css_transition_duration=1.5,foyer_ticker_css_transition_duration_safe=foyer_ticker_css_transition_duration+.5;jQuery(document).ready(function(){jQuery(foyer_slides_selector).length&&foyer_ticker_init()});